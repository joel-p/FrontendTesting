@import "variables";

@mixin at-breakpoint($breakpoint-names...) {
    $final-media: ();

    @each $breakpoint-name in $breakpoint-names {
        @if map-has-key($breakpoints, $breakpoint-name) {
            $declaration: map-get($breakpoints, $breakpoint-name);
            $final-media: append($final-media, $declaration);
        }
    }

    $media-query: to-string($final-media, ',');

    @media #{$media-query} {
        @content;
    }
}

@mixin at-breakpoints($class) {
    #{$class} {
        @content;
    }

    @each $name, $declaration in $breakpoints {
        $final-selector: #{$class}\@#{$name};

        @include at-breakpoint($name) {
            #{$final-selector} {
                @content;
            }
        }
    }
}

@mixin clearfix {
    &::after {
        content: '';
        display: table;
        clear: both;
    }
}

@mixin text-ellipsis {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

@mixin push($direction, $multiplier-key) {
    $multiplier: 1;

    @if $multiplier-key == "half" {
        $multiplier: 0.5;
    }

    @if $multiplier-key == "double" {
        $multiplier: 2;
    }

    @if $direction == "" {
        margin: $page-gutter * $multiplier;
    }
    else {
        margin-#{$direction}: $page-gutter * $multiplier;
    }
}